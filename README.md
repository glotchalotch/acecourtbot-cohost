# Ace Attorney Court Bot for Cohost
This project seeks to replicate the function of Twitter's [Ace Attorney Court Bot](https://twitter.com/aceCourtBot2) for post threads on [cohost.org](https://cohost.org). It polls the comments of a master post every 60 seconds, and processes commands left in any new comments on the post. It then places the finalized video on a web server and posts it for the whole world to see. It's pretty cool I think! [Check it out here!](https://cohost.org/aceCourtBot)

To be quite honest, this probably won't get a lot of use, which is okay, but maybe this project could pave the way for more interesting interactable bots on Cohost!

This project uses LuisMayo's [Objection Engine](https://github.com/LuisMayo/objection_engine) and valknight's [cohost.py library](https://github.com/valknight/Cohost.py) primarily, with [Markdown](https://github.com/Python-Markdown/markdown) and [BeautifulSoup](https://www.crummy.com/software/BeautifulSoup/) used to strip markdown and html from threads.

I'll go ahead and document how to get your own instance running, in case I decide to stop upkeeping the bot by myself. It should just be as simple as cloning this repository, installing the packages from requirements.txt using pip, and setting up your config.ini as detailed below. I've been using Python 3.11 for this bot, so I would recommend using at least that version. I attempted using Python 3.8, but the objection engine doesn't appear to work on that version, despite ostensibly supporting it.

# config.ini
Before setting up your own instance, you need to create a config.ini file in the same directory as main.py. All that's needed is the section header `[acecourtbot]`, with parameters as follows:
- **cohostuser**: The email of the cohost account
- **cohostpass**: The password of the cohost account
- **outpath**: What will be prepended to the video filename upon rendering, e.g. `out/` for placing videos in the `out` directory
- **urlprefix**: The url that will be prepended to the video filename. Cohost has no video hosting so you need to host videos on your own server, and this prefix should reflect the location on your website where they are accessible.
- **masterpostid**: The id of the master post that commands will be commented on
- **botprojecthandle**: The handle of the bot (wow really?)
- **logpath**: Path for the `acb.log` file that is generated by the script, same principle as `outpath`
- **loglevel**: The Python logging level for the `acb.log` and stdout, only useful ones for this script are `INFO`, `WARNING`, and `ERROR`

Example:
```
[acecourtbot]
cohostuser = phoenixwright@example.com
cohostpass = kissykissyedgeworth
outpath = out/
urlprefix = https://glotch.net/acb/
masterpostid = 552939
botprojecthandle = aceCourtBot
logpath = 
loglevel = WARNING
```

There is one more config.ini parameter called `lastcommentprocessedtimestamp`, but it's entirely managed by the script so don't worry about that. It just marks the last comment that was processed so it doesn't re-render any videos. 